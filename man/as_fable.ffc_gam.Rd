% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fable_methods.R
\name{as_fable.ffc_gam}
\alias{as_fable.ffc_gam}
\title{Convert ffc_gam forecasts to fable object}
\usage{
\method{as_fable}{ffc_gam}(
  x,
  newdata,
  forecasts = NULL,
  response = NULL,
  model = "ARIMA",
  key_vars = NULL,
  ...
)
}
\arguments{
\item{x}{An \code{ffc_gam} object used to generate forecasts}

\item{newdata}{A \code{data.frame} containing the forecast data with the
response variable}

\item{forecasts}{Optional pre-computed forecasts from \code{forecast.ffc_gam()}.
If NULL, forecasts will be generated using the remaining arguments}

\item{response}{Character string specifying the response variable name.
If NULL, automatically detected from the model formula}

\item{model}{A character string representing the forecasting model to use
if generating forecasts. Default is "ARIMA"}

\item{key_vars}{Optional character vector specifying grouping variables.
If NULL, automatically detected from categorical variables in newdata}

\item{...}{Additional arguments passed to \code{forecast.ffc_gam()} if
generating forecasts}
}
\value{
A \code{fable} x containing forecast distributions and point
estimates
}
\description{
Convert ffc_gam forecasts to fable object
}
\details{
Converts forecasting output from \code{ffc_gam} xs into a properly
formatted \code{fable} x that can be used with \code{fabletools} functions like
\code{autoplot()}, \code{accuracy()}, and forecast combination methods
}
\examples{
\donttest{
# Basic usage with automatic detection
library(fable)
library(tsibble)
library(dplyr)

# Prepare tourism data
tourism_melb <- tourism \%>\%
  filter(Region == "Melbourne", Purpose == "Visiting") \%>\%
  mutate(quarter = as.numeric(format(Quarter, "\%q")),
         time = row_number())

# Split data
train <- tourism_melb \%>\% slice_head(n = 75)
test <- tourism_melb \%>\% slice_tail(n = 5)

# Fit model
mod <- ffc_gam(
  Trips ~ fts(time, mean_only = TRUE, time_k = 50, time_m = 1) +
          fts(quarter, k = 4, time_k = 15, time_m = 1),
  time = "time", data = train, family = tw(), engine = "gam"
)

# Convert to fable with auto-detection
fc_fable <- as_fable(mod, newdata = test, model = "ETS")

# Use fabletools ecosystem
autoplot(fc_fable, train)  # Forecast plot
accuracy(fc_fable, test)   # Accuracy metrics
hilo(fc_fable, level = c(80, 95))  # Prediction intervals

# Distribution summaries
fc_fable \%>\%
  summarise(
    mean_forecast = mean(.dist),
    q25 = quantile(.dist, 0.25),
    q75 = quantile(.dist, 0.75)
  )

# With pre-computed forecasts
forecasts <- forecast(mod, newdata = test, model = "ETS", summary = FALSE)
fc_fable2 <- as_fable(mod, newdata = test, forecasts = forecasts)

# With custom parameters
fc_fable3 <- as_fable(
  mod,
  newdata = test,
  model = "ETS",
  response = "Trips",
  key_vars = c("Region", "State")
)
}
}
\seealso{
\code{\link[=forecast.ffc_gam]{forecast.ffc_gam()}}
}
\author{
Nicholas J Clark
}
